<h2>Admin Dashboard</h2>

<a href="/admin/posts/new">Add New Post</a>
<a href="/admin/logout" style="margin-left:20px;">Logout</a>

<hr/>

<h3>All Posts</h3>

<% if (posts && posts.length > 0) { %>
  <ul>
    <% posts.forEach(post => { %>
      <li>
        <strong><%= post.title %></strong> 
        <a href="/admin/posts/<%= post._id %>/edit">Edit</a>
        <form action="/admin/posts/<%= post._id %>?_method=DELETE" method="POST">
          <button type="submit">Delete</button>
        </form>
      </li>
    <% }) %>
  </ul>

  <div class="pagination">
    <% if (currentPage > 1) { %>
      <a href="?page=<%= currentPage - 1 %>">Previous</a>
    <% } %>

    <% for (let i = 1; i <= totalPages; i++) { %>
      <% if (i === currentPage) { %>
        <span><%= i %></span>
      <% } else { %>
        <a href="?page=<%= i %>"><%= i %></a>
      <% } %>
    <% } %>

    <% if (currentPage < totalPages) { %>
      <a href="?page=<%= currentPage + 1 %>">Next</a>
    <% } %>
  </div>

<% } else { %>
  <p>No posts yet. <a href="/admin/posts/new">Add one now</a></p>
<% } %>










